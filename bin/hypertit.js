/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/TBuilder.js":
/*!*************************!*\
  !*** ./src/TBuilder.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*\r\n * \tTBuilder.ts\r\n *\tVersion 0.0.1\r\n * \thttps://github.com/thipages/HyperTit\r\n *\r\n * \tLicensed under the MIT license:\r\n * \thttp://www.opensource.org/licenses/MIT\r\n *\r\n *\t HyperTit Tit's hypertext\r\n */\r\nvar TNode_1 = __webpack_require__(/*! ./TNode */ \"./src/TNode.js\");\r\nvar ObjectFormat_1 = __webpack_require__(/*! ./format/ObjectFormat */ \"./src/format/ObjectFormat.js\");\r\nvar ExtendedTagFormat_1 = __webpack_require__(/*! ./format/ExtendedTagFormat */ \"./src/format/ExtendedTagFormat.js\");\r\nvar TBuilder = /** @class */ (function () {\r\n    function TBuilder() {\r\n    }\r\n    Object.defineProperty(TBuilder, \"callback\", {\r\n        set: function (cb) {\r\n            TBuilder._callback = cb;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TBuilder.nodeCallback = function (node, type, action, data) {\r\n        if (TBuilder._callback)\r\n            TBuilder._callback(node, type, action, data);\r\n    };\r\n    TBuilder.uid = function () {\r\n        TBuilder.uid_count++;\r\n        return \"id\" + TBuilder.uid_count;\r\n    };\r\n    TBuilder.resetUid = function () {\r\n        TBuilder.uid_count = 0;\r\n    };\r\n    TBuilder.getNode = function (tag) {\r\n        if (tag === void 0) { tag = 'div'; }\r\n        return new TNode_1.TNode(tag, TBuilder.nodeCallback);\r\n    };\r\n    TBuilder.getNodeFrom = function (data1, data2, data3) {\r\n        var node = TBuilder.getNodeFrom_allowsNull(data1, data2, data3);\r\n        // todo : send warning through callback if boolean\r\n        return (node === null) ? TBuilder.getNode() : node;\r\n    };\r\n    TBuilder.getNodeFrom_allowsNull = function (data1, data2, data3) {\r\n        var length, node;\r\n        length = (data1 === undefined) ? 0 : (data2 === undefined) ? 1 : (data3 === undefined) ? 2 : 3;\r\n        if (length === 0) {\r\n            node = TBuilder.getNode();\r\n        }\r\n        else {\r\n            if (length === 1) {\r\n                node = (data1 instanceof TNode_1.TNode)\r\n                    ? data1\r\n                    : (typeof (data1) === 'string')\r\n                        ? ExtendedTagFormat_1.ExtendedTagFormat.getNode(data1)\r\n                        : (typeof (data1) === 'object')\r\n                            ? ObjectFormat_1.ObjectFormat.getNode(data1)\r\n                            : null;\r\n            }\r\n            else {\r\n                if (length === 2) {\r\n                    node = (typeof (data1) === 'string')\r\n                        ? ExtendedTagFormat_1.ExtendedTagFormat.getNode(data1, data2)\r\n                        : null;\r\n                }\r\n                else {\r\n                    node = (typeof (data1) === 'string' && typeof (data2) === 'object')\r\n                        ? ExtendedTagFormat_1.ExtendedTagFormat.getNode(data1, data2, data3)\r\n                        : null;\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    TBuilder.build = function (node, anchor) {\r\n        if (anchor === void 0) { anchor = \"body\"; }\r\n        var id, element;\r\n        if (anchor.substr(0, 1) === \"#\") {\r\n            id = anchor.substr(1);\r\n            element = document.getElementById(id);\r\n        }\r\n        else if (anchor === 'body') {\r\n            id = \"body\";\r\n            element = document.body;\r\n        }\r\n        else {\r\n            // todo: see DOMinus code\r\n        }\r\n        node.parent = id;\r\n        element.innerHTML = node.getNodeHtml();\r\n        TBuilder.registerEvents(node);\r\n    };\r\n    TBuilder.registerEvents = function (node, register) {\r\n        if (register === void 0) { register = true; }\r\n        node.events.forEach(function (listener, type) {\r\n            if (register) {\r\n                document.getElementById(node.id).addEventListener(type, listener);\r\n            }\r\n            else {\r\n                document.getElementById(node.id).removeEventListener(type, listener);\r\n            }\r\n        });\r\n        for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child instanceof TNode_1.TNode)\r\n                TBuilder.registerEvents(child, register);\r\n        }\r\n    };\r\n    TBuilder.uid_count = 0;\r\n    return TBuilder;\r\n}());\r\nexports.TBuilder = TBuilder;\r\n//# sourceMappingURL=TBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVEJ1aWxkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVEJ1aWxkZXIuanM/NGFiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKlxyXG4gKiBcdFRCdWlsZGVyLnRzXHJcbiAqXHRWZXJzaW9uIDAuMC4xXHJcbiAqIFx0aHR0cHM6Ly9naXRodWIuY29tL3RoaXBhZ2VzL0h5cGVyVGl0XHJcbiAqXHJcbiAqIFx0TGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxyXG4gKiBcdGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbiAqXHJcbiAqXHQgSHlwZXJUaXQgVGl0J3MgaHlwZXJ0ZXh0XHJcbiAqL1xyXG52YXIgVE5vZGVfMSA9IHJlcXVpcmUoXCIuL1ROb2RlXCIpO1xyXG52YXIgT2JqZWN0Rm9ybWF0XzEgPSByZXF1aXJlKFwiLi9mb3JtYXQvT2JqZWN0Rm9ybWF0XCIpO1xyXG52YXIgRXh0ZW5kZWRUYWdGb3JtYXRfMSA9IHJlcXVpcmUoXCIuL2Zvcm1hdC9FeHRlbmRlZFRhZ0Zvcm1hdFwiKTtcclxudmFyIFRCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVEJ1aWxkZXIoKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVEJ1aWxkZXIsIFwiY2FsbGJhY2tcIiwge1xyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIFRCdWlsZGVyLl9jYWxsYmFjayA9IGNiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgVEJ1aWxkZXIubm9kZUNhbGxiYWNrID0gZnVuY3Rpb24gKG5vZGUsIHR5cGUsIGFjdGlvbiwgZGF0YSkge1xyXG4gICAgICAgIGlmIChUQnVpbGRlci5fY2FsbGJhY2spXHJcbiAgICAgICAgICAgIFRCdWlsZGVyLl9jYWxsYmFjayhub2RlLCB0eXBlLCBhY3Rpb24sIGRhdGEpO1xyXG4gICAgfTtcclxuICAgIFRCdWlsZGVyLnVpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBUQnVpbGRlci51aWRfY291bnQrKztcclxuICAgICAgICByZXR1cm4gXCJpZFwiICsgVEJ1aWxkZXIudWlkX2NvdW50O1xyXG4gICAgfTtcclxuICAgIFRCdWlsZGVyLnJlc2V0VWlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFRCdWlsZGVyLnVpZF9jb3VudCA9IDA7XHJcbiAgICB9O1xyXG4gICAgVEJ1aWxkZXIuZ2V0Tm9kZSA9IGZ1bmN0aW9uICh0YWcpIHtcclxuICAgICAgICBpZiAodGFnID09PSB2b2lkIDApIHsgdGFnID0gJ2Rpdic7IH1cclxuICAgICAgICByZXR1cm4gbmV3IFROb2RlXzEuVE5vZGUodGFnLCBUQnVpbGRlci5ub2RlQ2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIFRCdWlsZGVyLmdldE5vZGVGcm9tID0gZnVuY3Rpb24gKGRhdGExLCBkYXRhMiwgZGF0YTMpIHtcclxuICAgICAgICB2YXIgbm9kZSA9IFRCdWlsZGVyLmdldE5vZGVGcm9tX2FsbG93c051bGwoZGF0YTEsIGRhdGEyLCBkYXRhMyk7XHJcbiAgICAgICAgLy8gdG9kbyA6IHNlbmQgd2FybmluZyB0aHJvdWdoIGNhbGxiYWNrIGlmIGJvb2xlYW5cclxuICAgICAgICByZXR1cm4gKG5vZGUgPT09IG51bGwpID8gVEJ1aWxkZXIuZ2V0Tm9kZSgpIDogbm9kZTtcclxuICAgIH07XHJcbiAgICBUQnVpbGRlci5nZXROb2RlRnJvbV9hbGxvd3NOdWxsID0gZnVuY3Rpb24gKGRhdGExLCBkYXRhMiwgZGF0YTMpIHtcclxuICAgICAgICB2YXIgbGVuZ3RoLCBub2RlO1xyXG4gICAgICAgIGxlbmd0aCA9IChkYXRhMSA9PT0gdW5kZWZpbmVkKSA/IDAgOiAoZGF0YTIgPT09IHVuZGVmaW5lZCkgPyAxIDogKGRhdGEzID09PSB1bmRlZmluZWQpID8gMiA6IDM7XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBub2RlID0gVEJ1aWxkZXIuZ2V0Tm9kZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IChkYXRhMSBpbnN0YW5jZW9mIFROb2RlXzEuVE5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhMVxyXG4gICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiAoZGF0YTEpID09PSAnc3RyaW5nJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBFeHRlbmRlZFRhZ0Zvcm1hdF8xLkV4dGVuZGVkVGFnRm9ybWF0LmdldE5vZGUoZGF0YTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiAoZGF0YTEpID09PSAnb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0Rm9ybWF0XzEuT2JqZWN0Rm9ybWF0LmdldE5vZGUoZGF0YTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9ICh0eXBlb2YgKGRhdGExKSA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRXh0ZW5kZWRUYWdGb3JtYXRfMS5FeHRlbmRlZFRhZ0Zvcm1hdC5nZXROb2RlKGRhdGExLCBkYXRhMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9ICh0eXBlb2YgKGRhdGExKSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIChkYXRhMikgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEV4dGVuZGVkVGFnRm9ybWF0XzEuRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZShkYXRhMSwgZGF0YTIsIGRhdGEzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgVEJ1aWxkZXIuYnVpbGQgPSBmdW5jdGlvbiAobm9kZSwgYW5jaG9yKSB7XHJcbiAgICAgICAgaWYgKGFuY2hvciA9PT0gdm9pZCAwKSB7IGFuY2hvciA9IFwiYm9keVwiOyB9XHJcbiAgICAgICAgdmFyIGlkLCBlbGVtZW50O1xyXG4gICAgICAgIGlmIChhbmNob3Iuc3Vic3RyKDAsIDEpID09PSBcIiNcIikge1xyXG4gICAgICAgICAgICBpZCA9IGFuY2hvci5zdWJzdHIoMSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFuY2hvciA9PT0gJ2JvZHknKSB7XHJcbiAgICAgICAgICAgIGlkID0gXCJib2R5XCI7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogc2VlIERPTWludXMgY29kZVxyXG4gICAgICAgIH1cclxuICAgICAgICBub2RlLnBhcmVudCA9IGlkO1xyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gbm9kZS5nZXROb2RlSHRtbCgpO1xyXG4gICAgICAgIFRCdWlsZGVyLnJlZ2lzdGVyRXZlbnRzKG5vZGUpO1xyXG4gICAgfTtcclxuICAgIFRCdWlsZGVyLnJlZ2lzdGVyRXZlbnRzID0gZnVuY3Rpb24gKG5vZGUsIHJlZ2lzdGVyKSB7XHJcbiAgICAgICAgaWYgKHJlZ2lzdGVyID09PSB2b2lkIDApIHsgcmVnaXN0ZXIgPSB0cnVlOyB9XHJcbiAgICAgICAgbm9kZS5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIsIHR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChub2RlLmlkKS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5vZGUuaWQpLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG5vZGUuY2hpbGRyZW47IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVE5vZGVfMS5UTm9kZSlcclxuICAgICAgICAgICAgICAgIFRCdWlsZGVyLnJlZ2lzdGVyRXZlbnRzKGNoaWxkLCByZWdpc3Rlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRCdWlsZGVyLnVpZF9jb3VudCA9IDA7XHJcbiAgICByZXR1cm4gVEJ1aWxkZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVEJ1aWxkZXIgPSBUQnVpbGRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VEJ1aWxkZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/TBuilder.js\n");

/***/ }),

/***/ "./src/TNode.js":
/*!**********************!*\
  !*** ./src/TNode.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*\r\n * \tTNode.ts\r\n *\tVersion 0.0.1\r\n * \thttps://github.com/thipages/HyperTit\r\n *\r\n * \tLicensed under the MIT license:\r\n * \thttp://www.opensource.org/licenses/MIT\r\n *\r\n *\t HyperTit Tit's hypertext\r\n */\r\nvar TBuilder_1 = __webpack_require__(/*! ./TBuilder */ \"./src/TBuilder.js\");\r\nvar TNode = /** @class */ (function () {\r\n    function TNode(tag, callback) {\r\n        this.tag = tag;\r\n        this.callback = callback;\r\n        this.id = TBuilder_1.TBuilder.uid();\r\n        this.parent = null;\r\n        this.children = Array();\r\n        this.parentWrappers = Array();\r\n        this.styles = new Map();\r\n        this.properties = new Map();\r\n        this.classes = new Set();\r\n        this.events = new Map();\r\n    }\r\n    TNode.prototype.wrap = function (node) {\r\n        if (node.tag === 'div' && !this.isAttachedToDom())\r\n            this.parentWrappers.unshift(node);\r\n        return this;\r\n    };\r\n    TNode.prototype.addChild = function (child) {\r\n        var targetElement, lastChild, isAttached;\r\n        isAttached = this.isAttachedToDom();\r\n        if (!(child instanceof TNode)) {\r\n            if (this.children.length === 0) {\r\n                this.children.push(child);\r\n            }\r\n            else {\r\n                this.children[0] = child;\r\n            }\r\n            if (isAttached)\r\n                document.getElementById(this.id).innerHTML = child;\r\n        }\r\n        else {\r\n            this.children.push(child);\r\n            child.parent = this;\r\n            if (isAttached) {\r\n                if (this.children.length === 1) {\r\n                    document.getElementById(this.id).innerHTML = child.getNodeHtml();\r\n                }\r\n                else {\r\n                    lastChild = this.children[this.children.length - 2];\r\n                    if (lastChild instanceof TNode) {\r\n                        targetElement = document.getElementById(lastChild.id);\r\n                        targetElement.insertAdjacentHTML(\"afterend\", child.getNodeHtml());\r\n                    }\r\n                }\r\n                TBuilder_1.TBuilder.registerEvents(child);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeChild = function (child) {\r\n        if (this.children.length != 0) {\r\n            if (this.isAttachedToDom()) {\r\n                var index = this.children.indexOf(child);\r\n                if (index > 1)\r\n                    document.getElementById(this.id).children[index].remove();\r\n            }\r\n            this.children = this.children.filter(function (item) { return item !== child; });\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeChildAt = function (index) {\r\n        if (index >= 0 && index < this.children.length) {\r\n            if (this.isAttachedToDom()) {\r\n                document.getElementById(this.id).children[index].remove();\r\n            }\r\n            this.children.splice(index, 1);\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.addStyle = function (keyOrRawStyle, value) {\r\n        var _this = this;\r\n        if (value === void 0) { value = null; }\r\n        var matches, attached = null;\r\n        if (keyOrRawStyle) {\r\n            if (value !== null && value.trim() !== \"\") {\r\n                this.styles.set(keyOrRawStyle, value);\r\n                if (attached === null)\r\n                    attached = this.isAttachedToDom();\r\n                if (attached)\r\n                    this.addStyleToDom(keyOrRawStyle, value);\r\n            }\r\n            else {\r\n                matches = keyOrRawStyle.match(TNode.PATTERN_STYLE);\r\n                if (matches) {\r\n                    matches.forEach(function (pattern) {\r\n                        var styles = pattern.split(\":\");\r\n                        _this.styles.set(styles[0], styles[1]);\r\n                        if (attached === null)\r\n                            attached = _this.isAttachedToDom();\r\n                        if (attached)\r\n                            _this.addStyleToDom(styles[0], styles[1]);\r\n                    });\r\n                }\r\n                else {\r\n                    // todo : send warning\r\n                    console.log(\"No match: \" + keyOrRawStyle);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeStyle = function (key) {\r\n        this.styles.delete(key);\r\n        if (this.isAttachedToDom()) {\r\n            document.getElementById(this.id).style[key] = null;\r\n            if (this.callback)\r\n                this.callback(this, 'style', 'remove', key);\r\n        }\r\n        return this;\r\n    };\r\n    // todo : optimization... replace Map formalism by Object one (type is just a string+extended format compatible)\r\n    TNode.prototype.addEvent = function (type, listener) {\r\n        this.events.set(type, listener);\r\n        if (this.isAttachedToDom()) {\r\n            document.getElementById(this.id).addEventListener(type, listener);\r\n            if (this.callback)\r\n                this.callback(this, 'event', 'add', type);\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeEvent = function (type) {\r\n        if (this.isAttachedToDom()) {\r\n            document.getElementById(this.id).removeEventListener(type, this.events.get(type));\r\n            if (this.callback)\r\n                this.callback(this, 'event', 'remove', type);\r\n        }\r\n        this.events.delete(type);\r\n        return this;\r\n    };\r\n    TNode.prototype.addClass = function (rawClassOrClass) {\r\n        var _this = this;\r\n        var attached = null;\r\n        if (rawClassOrClass) {\r\n            rawClassOrClass.split(TNode.PATTERN_CLASS).forEach(function (clazz) {\r\n                if (!_this.classes.has(clazz)) {\r\n                    if (attached === null)\r\n                        attached = _this.isAttachedToDom();\r\n                    _this.classes.add(clazz);\r\n                    if (attached)\r\n                        _this.addClassToDom(clazz);\r\n                }\r\n            });\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeClass = function (clazz) {\r\n        this.classes.delete(clazz);\r\n        if (this.isAttachedToDom()) {\r\n            document.getElementById(this.id).classList.remove(clazz);\r\n            if (this.callback)\r\n                this.callback(this, 'class', 'remove', clazz);\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.addProperty = function (keyOrRawProperty, value) {\r\n        var _this = this;\r\n        if (value === void 0) { value = null; }\r\n        var attached = null;\r\n        if (keyOrRawProperty) {\r\n            if (value !== null) {\r\n                if (keyOrRawProperty !== \"class\" && keyOrRawProperty !== \"style\") {\r\n                    this.properties.set(keyOrRawProperty, value);\r\n                    if (attached === null)\r\n                        attached = this.isAttachedToDom();\r\n                    if (attached)\r\n                        this.addPropertyToDom(keyOrRawProperty, value);\r\n                }\r\n            }\r\n            else {\r\n                keyOrRawProperty.match(TNode.PATTERN_PROPERTY).forEach(function (pattern) {\r\n                    var properties = pattern.split(\"=\");\r\n                    properties[0] = properties[0].trim();\r\n                    if (properties.length == 1)\r\n                        properties.push(properties[0]);\r\n                    _this.properties.set(properties[0], properties[1]);\r\n                    if (attached === null)\r\n                        attached = _this.isAttachedToDom();\r\n                    if (attached)\r\n                        _this.addPropertyToDom(properties[0], properties[1]);\r\n                });\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.removeProperty = function (property) {\r\n        if (property !== 'class' && property !== 'style') {\r\n            this.properties.delete(property);\r\n            if (this.isAttachedToDom()) {\r\n                document.getElementById(this.id).removeAttribute(property);\r\n                if (this.callback)\r\n                    this.callback(this, 'property', 'remove', property);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    TNode.prototype.getProperty = function (property) {\r\n        if (property === void 0) { property = \"value\"; }\r\n        return document.getElementById(this.id)[property];\r\n    };\r\n    TNode.prototype.isAttachedToDom = function () {\r\n        var node = this;\r\n        while (true) {\r\n            if (node.parent instanceof TNode)\r\n                node = node.parent;\r\n            else\r\n                break;\r\n        }\r\n        return (typeof (node.parent) === 'string');\r\n    };\r\n    TNode.prototype.addStyleToDom = function (key, value) {\r\n        document.getElementById(this.id).style[key] = value;\r\n        if (this.callback)\r\n            this.callback(this, 'style', 'add', key + ':' + value);\r\n    };\r\n    TNode.prototype.addPropertyToDom = function (key, value) {\r\n        document.getElementById(this.id)[key] = value;\r\n        if (this.callback)\r\n            this.callback(this, 'property', 'add', value !== null ? key + \"=\" + value : key);\r\n    };\r\n    TNode.prototype.addClassToDom = function (clazz) {\r\n        document.getElementById(this.id).classList.add(clazz);\r\n        if (this.callback)\r\n            this.callback(this, 'class', 'add', clazz);\r\n    };\r\n    TNode.prototype.getNodeHtml = function () {\r\n        var parts;\r\n        // WRAPPERS\r\n        var wrapperParts = [\"\", \"\", \"\"];\r\n        for (var _i = 0, _a = this.parentWrappers; _i < _a.length; _i++) {\r\n            var wrapper = _a[_i];\r\n            parts = wrapper.getParts();\r\n            wrapperParts[0] += parts[0];\r\n            wrapperParts[2] = parts[2] + wrapperParts[2];\r\n        }\r\n        wrapperParts[1] = this.getParts().join(\"\");\r\n        return wrapperParts.join(\"\");\r\n    };\r\n    TNode.prototype.getParts = function () {\r\n        var properties, styles, classes, children, attrs;\r\n        attrs = Array();\r\n        // ID\r\n        if (this.id)\r\n            attrs.push(\"id=\\\"\" + this.id + \"\\\"\");\r\n        // PROPERTIES\r\n        properties = Array();\r\n        this.properties.forEach(function (value, key) {\r\n            properties.push(key + \"=\\\"\" + value + \"\\\"\");\r\n        });\r\n        properties = properties.join(\" \");\r\n        if (properties !== \"\")\r\n            attrs.push(properties);\r\n        // STYLES\r\n        styles = \"\";\r\n        this.styles.forEach(function (value, key) {\r\n            styles += key + \":\" + value + \";\";\r\n        });\r\n        if (styles !== \"\")\r\n            attrs.push(\"style=\\\"\" + styles + \"\\\"\");\r\n        // CLASSES\r\n        classes = Array.from(this.classes).join(\" \");\r\n        if (classes !== \"\")\r\n            attrs.push(\"class=\\\"\" + classes + \"\\\"\");\r\n        // CHILDREN OR VOID ELEMENTS\r\n        if (!TNode.isVoidElement(this.tag)) {\r\n            children = \"\";\r\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\r\n                var child = _a[_i];\r\n                if (child instanceof TNode) {\r\n                    children += child.getNodeHtml();\r\n                }\r\n                else {\r\n                    children += child;\r\n                }\r\n            }\r\n            return [\"<\" + this.tag + \" \" + attrs.join(\" \") + \">\", children, \"</\" + this.tag + \">\"];\r\n        }\r\n        else {\r\n            return [\"<\" + this.tag + \" \" + attrs.join(\" \") + \"/>\", \"\", \"\"];\r\n        }\r\n    };\r\n    TNode.isVoidElement = function (tag) {\r\n        return [\r\n            \"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\",\r\n            \"input\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"\r\n        ].indexOf(tag.toLowerCase()) > -1;\r\n    };\r\n    TNode.PATTERN_STYLE = /((\\w|-)+):(\\w|#|-)+/g;\r\n    TNode.PATTERN_PROPERTY = /([\\w|-]+=[\\w|,-]+)|[\\w|-]+/g;\r\n    TNode.PATTERN_CLASS = /[\\s|;]/g;\r\n    return TNode;\r\n}());\r\nexports.TNode = TNode;\r\n//# sourceMappingURL=TNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVE5vZGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVE5vZGUuanM/OTA1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKlxyXG4gKiBcdFROb2RlLnRzXHJcbiAqXHRWZXJzaW9uIDAuMC4xXHJcbiAqIFx0aHR0cHM6Ly9naXRodWIuY29tL3RoaXBhZ2VzL0h5cGVyVGl0XHJcbiAqXHJcbiAqIFx0TGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxyXG4gKiBcdGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbiAqXHJcbiAqXHQgSHlwZXJUaXQgVGl0J3MgaHlwZXJ0ZXh0XHJcbiAqL1xyXG52YXIgVEJ1aWxkZXJfMSA9IHJlcXVpcmUoXCIuL1RCdWlsZGVyXCIpO1xyXG52YXIgVE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUTm9kZSh0YWcsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuaWQgPSBUQnVpbGRlcl8xLlRCdWlsZGVyLnVpZCgpO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gQXJyYXkoKTtcclxuICAgICAgICB0aGlzLnBhcmVudFdyYXBwZXJzID0gQXJyYXkoKTtcclxuICAgICAgICB0aGlzLnN0eWxlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgVE5vZGUucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIGlmIChub2RlLnRhZyA9PT0gJ2RpdicgJiYgIXRoaXMuaXNBdHRhY2hlZFRvRG9tKCkpXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50V3JhcHBlcnMudW5zaGlmdChub2RlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUTm9kZS5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCwgbGFzdENoaWxkLCBpc0F0dGFjaGVkO1xyXG4gICAgICAgIGlzQXR0YWNoZWQgPSB0aGlzLmlzQXR0YWNoZWRUb0RvbSgpO1xyXG4gICAgICAgIGlmICghKGNoaWxkIGluc3RhbmNlb2YgVE5vZGUpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bMF0gPSBjaGlsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNBdHRhY2hlZClcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmlubmVySFRNTCA9IGNoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKGlzQXR0YWNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmlubmVySFRNTCA9IGNoaWxkLmdldE5vZGVIdG1sKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RDaGlsZCBpbnN0YW5jZW9mIFROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYXN0Q2hpbGQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyZW5kXCIsIGNoaWxkLmdldE5vZGVIdG1sKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFRCdWlsZGVyXzEuVEJ1aWxkZXIucmVnaXN0ZXJFdmVudHMoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQXR0YWNoZWRUb0RvbSgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMSlcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5jaGlsZHJlbltpbmRleF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtICE9PSBjaGlsZDsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0F0dGFjaGVkVG9Eb20oKSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkuY2hpbGRyZW5baW5kZXhdLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLmFkZFN0eWxlID0gZnVuY3Rpb24gKGtleU9yUmF3U3R5bGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9IG51bGw7IH1cclxuICAgICAgICB2YXIgbWF0Y2hlcywgYXR0YWNoZWQgPSBudWxsO1xyXG4gICAgICAgIGlmIChrZXlPclJhd1N0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZS50cmltKCkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzLnNldChrZXlPclJhd1N0eWxlLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNoZWQgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoZWQgPSB0aGlzLmlzQXR0YWNoZWRUb0RvbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dGFjaGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3R5bGVUb0RvbShrZXlPclJhd1N0eWxlLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVzID0ga2V5T3JSYXdTdHlsZS5tYXRjaChUTm9kZS5QQVRURVJOX1NUWUxFKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBwYXR0ZXJuLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLnNldChzdHlsZXNbMF0sIHN0eWxlc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2hlZCA9PT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gX3RoaXMuaXNBdHRhY2hlZFRvRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2hlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFN0eWxlVG9Eb20oc3R5bGVzWzBdLCBzdHlsZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyA6IHNlbmQgd2FybmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gbWF0Y2g6IFwiICsga2V5T3JSYXdTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLnJlbW92ZVN0eWxlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMuc3R5bGVzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNoZWRUb0RvbSgpKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLnN0eWxlW2tleV0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcywgJ3N0eWxlJywgJ3JlbW92ZScsIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8vIHRvZG8gOiBvcHRpbWl6YXRpb24uLi4gcmVwbGFjZSBNYXAgZm9ybWFsaXNtIGJ5IE9iamVjdCBvbmUgKHR5cGUgaXMganVzdCBhIHN0cmluZytleHRlbmRlZCBmb3JtYXQgY29tcGF0aWJsZSlcclxuICAgIFROb2RlLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnNldCh0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2hlZFRvRG9tKCkpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLCAnZXZlbnQnLCAnYWRkJywgdHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2hlZFRvRG9tKCkpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLmV2ZW50cy5nZXQodHlwZSkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcywgJ2V2ZW50JywgJ3JlbW92ZScsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5kZWxldGUodHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKHJhd0NsYXNzT3JDbGFzcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGF0dGFjaGVkID0gbnVsbDtcclxuICAgICAgICBpZiAocmF3Q2xhc3NPckNsYXNzKSB7XHJcbiAgICAgICAgICAgIHJhd0NsYXNzT3JDbGFzcy5zcGxpdChUTm9kZS5QQVRURVJOX0NMQVNTKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGF6eikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jbGFzc2VzLmhhcyhjbGF6eikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0YWNoZWQgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gX3RoaXMuaXNBdHRhY2hlZFRvRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xhc3Nlcy5hZGQoY2xhenopO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2hlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ2xhc3NUb0RvbShjbGF6eik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUTm9kZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhenopIHtcclxuICAgICAgICB0aGlzLmNsYXNzZXMuZGVsZXRlKGNsYXp6KTtcclxuICAgICAgICBpZiAodGhpcy5pc0F0dGFjaGVkVG9Eb20oKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5jbGFzc0xpc3QucmVtb3ZlKGNsYXp6KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMsICdjbGFzcycsICdyZW1vdmUnLCBjbGF6eik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5hZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChrZXlPclJhd1Byb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIGF0dGFjaGVkID0gbnVsbDtcclxuICAgICAgICBpZiAoa2V5T3JSYXdQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXlPclJhd1Byb3BlcnR5ICE9PSBcImNsYXNzXCIgJiYga2V5T3JSYXdQcm9wZXJ0eSAhPT0gXCJzdHlsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLnNldChrZXlPclJhd1Byb3BlcnR5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaGVkID09PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hlZCA9IHRoaXMuaXNBdHRhY2hlZFRvRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFByb3BlcnR5VG9Eb20oa2V5T3JSYXdQcm9wZXJ0eSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5T3JSYXdQcm9wZXJ0eS5tYXRjaChUTm9kZS5QQVRURVJOX1BST1BFUlRZKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBwYXR0ZXJuLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzWzBdID0gcHJvcGVydGllc1swXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0aWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzLnNldChwcm9wZXJ0aWVzWzBdLCBwcm9wZXJ0aWVzWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0YWNoZWQgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gX3RoaXMuaXNBdHRhY2hlZFRvRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRQcm9wZXJ0eVRvRG9tKHByb3BlcnRpZXNbMF0sIHByb3BlcnRpZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLnJlbW92ZVByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5ICE9PSAnY2xhc3MnICYmIHByb3BlcnR5ICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcy5kZWxldGUocHJvcGVydHkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0F0dGFjaGVkVG9Eb20oKSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkucmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcywgJ3Byb3BlcnR5JywgJ3JlbW92ZScsIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUTm9kZS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICBpZiAocHJvcGVydHkgPT09IHZvaWQgMCkgeyBwcm9wZXJ0eSA9IFwidmFsdWVcIjsgfVxyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKVtwcm9wZXJ0eV07XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLmlzQXR0YWNoZWRUb0RvbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm9kZSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50IGluc3RhbmNlb2YgVE5vZGUpXHJcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHR5cGVvZiAobm9kZS5wYXJlbnQpID09PSAnc3RyaW5nJyk7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLmFkZFN0eWxlVG9Eb20gPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLnN0eWxlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLCAnc3R5bGUnLCAnYWRkJywga2V5ICsgJzonICsgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5hZGRQcm9wZXJ0eVRvRG9tID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcywgJ3Byb3BlcnR5JywgJ2FkZCcsIHZhbHVlICE9PSBudWxsID8ga2V5ICsgXCI9XCIgKyB2YWx1ZSA6IGtleSk7XHJcbiAgICB9O1xyXG4gICAgVE5vZGUucHJvdG90eXBlLmFkZENsYXNzVG9Eb20gPSBmdW5jdGlvbiAoY2xhenopIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5jbGFzc0xpc3QuYWRkKGNsYXp6KTtcclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLCAnY2xhc3MnLCAnYWRkJywgY2xhenopO1xyXG4gICAgfTtcclxuICAgIFROb2RlLnByb3RvdHlwZS5nZXROb2RlSHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcGFydHM7XHJcbiAgICAgICAgLy8gV1JBUFBFUlNcclxuICAgICAgICB2YXIgd3JhcHBlclBhcnRzID0gW1wiXCIsIFwiXCIsIFwiXCJdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnBhcmVudFdyYXBwZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgcGFydHMgPSB3cmFwcGVyLmdldFBhcnRzKCk7XHJcbiAgICAgICAgICAgIHdyYXBwZXJQYXJ0c1swXSArPSBwYXJ0c1swXTtcclxuICAgICAgICAgICAgd3JhcHBlclBhcnRzWzJdID0gcGFydHNbMl0gKyB3cmFwcGVyUGFydHNbMl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdyYXBwZXJQYXJ0c1sxXSA9IHRoaXMuZ2V0UGFydHMoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgIHJldHVybiB3cmFwcGVyUGFydHMuam9pbihcIlwiKTtcclxuICAgIH07XHJcbiAgICBUTm9kZS5wcm90b3R5cGUuZ2V0UGFydHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMsIHN0eWxlcywgY2xhc3NlcywgY2hpbGRyZW4sIGF0dHJzO1xyXG4gICAgICAgIGF0dHJzID0gQXJyYXkoKTtcclxuICAgICAgICAvLyBJRFxyXG4gICAgICAgIGlmICh0aGlzLmlkKVxyXG4gICAgICAgICAgICBhdHRycy5wdXNoKFwiaWQ9XFxcIlwiICsgdGhpcy5pZCArIFwiXFxcIlwiKTtcclxuICAgICAgICAvLyBQUk9QRVJUSUVTXHJcbiAgICAgICAgcHJvcGVydGllcyA9IEFycmF5KCk7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGtleSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSBcIlwiKVxyXG4gICAgICAgICAgICBhdHRycy5wdXNoKHByb3BlcnRpZXMpO1xyXG4gICAgICAgIC8vIFNUWUxFU1xyXG4gICAgICAgIHN0eWxlcyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5zdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBzdHlsZXMgKz0ga2V5ICsgXCI6XCIgKyB2YWx1ZSArIFwiO1wiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzdHlsZXMgIT09IFwiXCIpXHJcbiAgICAgICAgICAgIGF0dHJzLnB1c2goXCJzdHlsZT1cXFwiXCIgKyBzdHlsZXMgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgLy8gQ0xBU1NFU1xyXG4gICAgICAgIGNsYXNzZXMgPSBBcnJheS5mcm9tKHRoaXMuY2xhc3Nlcykuam9pbihcIiBcIik7XHJcbiAgICAgICAgaWYgKGNsYXNzZXMgIT09IFwiXCIpXHJcbiAgICAgICAgICAgIGF0dHJzLnB1c2goXCJjbGFzcz1cXFwiXCIgKyBjbGFzc2VzICsgXCJcXFwiXCIpO1xyXG4gICAgICAgIC8vIENISUxEUkVOIE9SIFZPSUQgRUxFTUVOVFNcclxuICAgICAgICBpZiAoIVROb2RlLmlzVm9pZEVsZW1lbnQodGhpcy50YWcpKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY2hpbGRyZW47IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IGNoaWxkLmdldE5vZGVIdG1sKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiArPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW1wiPFwiICsgdGhpcy50YWcgKyBcIiBcIiArIGF0dHJzLmpvaW4oXCIgXCIpICsgXCI+XCIsIGNoaWxkcmVuLCBcIjwvXCIgKyB0aGlzLnRhZyArIFwiPlwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXCI8XCIgKyB0aGlzLnRhZyArIFwiIFwiICsgYXR0cnMuam9pbihcIiBcIikgKyBcIi8+XCIsIFwiXCIsIFwiXCJdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUTm9kZS5pc1ZvaWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhZykge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIFwiYXJlYVwiLCBcImJhc2VcIiwgXCJiclwiLCBcImNvbFwiLCBcImVtYmVkXCIsIFwiaHJcIiwgXCJpbWdcIixcclxuICAgICAgICAgICAgXCJpbnB1dFwiLCBcImxpbmtcIiwgXCJtZXRhXCIsIFwicGFyYW1cIiwgXCJzb3VyY2VcIiwgXCJ0cmFja1wiLCBcIndiclwiXHJcbiAgICAgICAgXS5pbmRleE9mKHRhZy50b0xvd2VyQ2FzZSgpKSA+IC0xO1xyXG4gICAgfTtcclxuICAgIFROb2RlLlBBVFRFUk5fU1RZTEUgPSAvKChcXHd8LSkrKTooXFx3fCN8LSkrL2c7XHJcbiAgICBUTm9kZS5QQVRURVJOX1BST1BFUlRZID0gLyhbXFx3fC1dKz1bXFx3fCwtXSspfFtcXHd8LV0rL2c7XHJcbiAgICBUTm9kZS5QQVRURVJOX0NMQVNTID0gL1tcXHN8O10vZztcclxuICAgIHJldHVybiBUTm9kZTtcclxufSgpKTtcclxuZXhwb3J0cy5UTm9kZSA9IFROb2RlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UTm9kZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/TNode.js\n");

/***/ }),

/***/ "./src/format/ExtendedTagFormat.js":
/*!*****************************************!*\
  !*** ./src/format/ExtendedTagFormat.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TBuilder_1 = __webpack_require__(/*! ../TBuilder */ \"./src/TBuilder.js\");\r\nvar ExtendedTagFormat = /** @class */ (function () {\r\n    function ExtendedTagFormat() {\r\n    }\r\n    ExtendedTagFormat.getNode = function (extendedTag, content, events) {\r\n        return extendedTag === undefined\r\n            ? TBuilder_1.TBuilder.getNode()\r\n            : content === undefined\r\n                ? ExtendedTagFormat.getNodeFromExtendedTag(extendedTag)\r\n                : (events === undefined)\r\n                    ? ExtendedTagFormat.getNodeWithContent(extendedTag, content)\r\n                    : ExtendedTagFormat.getNodeWithEvents(extendedTag, content, events);\r\n    };\r\n    ExtendedTagFormat.getNodeFromExtendedTag = function (extendedTag) {\r\n        var node, length, matches, firstChar;\r\n        if (extendedTag === \"\") {\r\n            node = TBuilder_1.TBuilder.getNode();\r\n        }\r\n        else {\r\n            matches = extendedTag.match(/(^\\w+)|(\\.\\w+)|(\\[.*?])|(\\(.*?\\))/g);\r\n            firstChar = matches[0].substr(0, 1);\r\n            if ([\".\", \"(\", \"[\"].indexOf(firstChar) > -1) {\r\n                node = TBuilder_1.TBuilder.getNode();\r\n            }\r\n            else {\r\n                node = TBuilder_1.TBuilder.getNode(matches[0]);\r\n                matches.shift();\r\n            }\r\n            length = matches.length;\r\n            for (var index = 0; index < length; index++) {\r\n                firstChar = matches[index].substr(0, 1);\r\n                if (firstChar === \".\") {\r\n                    node.addClass(matches[index].substr(1));\r\n                }\r\n                else if (firstChar === \"[\") {\r\n                    node.addProperty(matches[index].slice(1, -1), null);\r\n                }\r\n                else if (firstChar === \"(\") {\r\n                    node.addStyle(matches[index].slice(1, -1), null);\r\n                }\r\n            }\r\n            if (matches.join(\"\").length !== extendedTag.length) {\r\n                // todo send a warning\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    ExtendedTagFormat.getNodeWithContent = function (extendedTag, content) {\r\n        var node, child;\r\n        node = ExtendedTagFormat.getNodeFromExtendedTag(extendedTag);\r\n        if (typeof (content === 'string')) {\r\n            node.addChild(content);\r\n        }\r\n        else if (content instanceof Array) {\r\n            for (child in content)\r\n                node.addChild(child);\r\n        }\r\n        else {\r\n            child = TBuilder_1.TBuilder.getNodeFrom_allowsNull(content);\r\n            if (child !== null)\r\n                node.addChild(content);\r\n        }\r\n        return node;\r\n    };\r\n    ExtendedTagFormat.getNodeWithEvents = function (extendedTag, content, events) {\r\n        var node;\r\n        node = ExtendedTagFormat.getNodeWithContent(extendedTag, content);\r\n        for (var type in events) {\r\n            if (events.hasOwnProperty(type) && events[type] instanceof Function) {\r\n                node.addEvent(type, events[type]);\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return ExtendedTagFormat;\r\n}());\r\nexports.ExtendedTagFormat = ExtendedTagFormat;\r\n//# sourceMappingURL=ExtendedTagFormat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZm9ybWF0L0V4dGVuZGVkVGFnRm9ybWF0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1hdC9FeHRlbmRlZFRhZ0Zvcm1hdC5qcz9kNjBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBUQnVpbGRlcl8xID0gcmVxdWlyZShcIi4uL1RCdWlsZGVyXCIpO1xyXG52YXIgRXh0ZW5kZWRUYWdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFeHRlbmRlZFRhZ0Zvcm1hdCgpIHtcclxuICAgIH1cclxuICAgIEV4dGVuZGVkVGFnRm9ybWF0LmdldE5vZGUgPSBmdW5jdGlvbiAoZXh0ZW5kZWRUYWcsIGNvbnRlbnQsIGV2ZW50cykge1xyXG4gICAgICAgIHJldHVybiBleHRlbmRlZFRhZyA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gVEJ1aWxkZXJfMS5UQnVpbGRlci5nZXROb2RlKClcclxuICAgICAgICAgICAgOiBjb250ZW50ID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZUZyb21FeHRlbmRlZFRhZyhleHRlbmRlZFRhZylcclxuICAgICAgICAgICAgICAgIDogKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgID8gRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZVdpdGhDb250ZW50KGV4dGVuZGVkVGFnLCBjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIDogRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZVdpdGhFdmVudHMoZXh0ZW5kZWRUYWcsIGNvbnRlbnQsIGV2ZW50cyk7XHJcbiAgICB9O1xyXG4gICAgRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZUZyb21FeHRlbmRlZFRhZyA9IGZ1bmN0aW9uIChleHRlbmRlZFRhZykge1xyXG4gICAgICAgIHZhciBub2RlLCBsZW5ndGgsIG1hdGNoZXMsIGZpcnN0Q2hhcjtcclxuICAgICAgICBpZiAoZXh0ZW5kZWRUYWcgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgbm9kZSA9IFRCdWlsZGVyXzEuVEJ1aWxkZXIuZ2V0Tm9kZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWF0Y2hlcyA9IGV4dGVuZGVkVGFnLm1hdGNoKC8oXlxcdyspfChcXC5cXHcrKXwoXFxbLio/XSl8KFxcKC4qP1xcKSkvZyk7XHJcbiAgICAgICAgICAgIGZpcnN0Q2hhciA9IG1hdGNoZXNbMF0uc3Vic3RyKDAsIDEpO1xyXG4gICAgICAgICAgICBpZiAoW1wiLlwiLCBcIihcIiwgXCJbXCJdLmluZGV4T2YoZmlyc3RDaGFyKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gVEJ1aWxkZXJfMS5UQnVpbGRlci5nZXROb2RlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gVEJ1aWxkZXJfMS5UQnVpbGRlci5nZXROb2RlKG1hdGNoZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IG1hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdENoYXIgPSBtYXRjaGVzW2luZGV4XS5zdWJzdHIoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaGFyID09PSBcIi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkQ2xhc3MobWF0Y2hlc1tpbmRleF0uc3Vic3RyKDEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0Q2hhciA9PT0gXCJbXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmFkZFByb3BlcnR5KG1hdGNoZXNbaW5kZXhdLnNsaWNlKDEsIC0xKSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdENoYXIgPT09IFwiKFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hZGRTdHlsZShtYXRjaGVzW2luZGV4XS5zbGljZSgxLCAtMSksIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmpvaW4oXCJcIikubGVuZ3RoICE9PSBleHRlbmRlZFRhZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRvZG8gc2VuZCBhIHdhcm5pbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBFeHRlbmRlZFRhZ0Zvcm1hdC5nZXROb2RlV2l0aENvbnRlbnQgPSBmdW5jdGlvbiAoZXh0ZW5kZWRUYWcsIGNvbnRlbnQpIHtcclxuICAgICAgICB2YXIgbm9kZSwgY2hpbGQ7XHJcbiAgICAgICAgbm9kZSA9IEV4dGVuZGVkVGFnRm9ybWF0LmdldE5vZGVGcm9tRXh0ZW5kZWRUYWcoZXh0ZW5kZWRUYWcpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGNvbnRlbnQgPT09ICdzdHJpbmcnKSkge1xyXG4gICAgICAgICAgICBub2RlLmFkZENoaWxkKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yIChjaGlsZCBpbiBjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjaGlsZCA9IFRCdWlsZGVyXzEuVEJ1aWxkZXIuZ2V0Tm9kZUZyb21fYWxsb3dzTnVsbChjb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDaGlsZChjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgRXh0ZW5kZWRUYWdGb3JtYXQuZ2V0Tm9kZVdpdGhFdmVudHMgPSBmdW5jdGlvbiAoZXh0ZW5kZWRUYWcsIGNvbnRlbnQsIGV2ZW50cykge1xyXG4gICAgICAgIHZhciBub2RlO1xyXG4gICAgICAgIG5vZGUgPSBFeHRlbmRlZFRhZ0Zvcm1hdC5nZXROb2RlV2l0aENvbnRlbnQoZXh0ZW5kZWRUYWcsIGNvbnRlbnQpO1xyXG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkodHlwZSkgJiYgZXZlbnRzW3R5cGVdIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnQodHlwZSwgZXZlbnRzW3R5cGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXh0ZW5kZWRUYWdGb3JtYXQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRXh0ZW5kZWRUYWdGb3JtYXQgPSBFeHRlbmRlZFRhZ0Zvcm1hdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXh0ZW5kZWRUYWdGb3JtYXQuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/format/ExtendedTagFormat.js\n");

/***/ }),

/***/ "./src/format/ObjectFormat.js":
/*!************************************!*\
  !*** ./src/format/ObjectFormat.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TBuilder_1 = __webpack_require__(/*! ../TBuilder */ \"./src/TBuilder.js\");\r\nvar ObjectFormat = /** @class */ (function () {\r\n    function ObjectFormat() {\r\n    }\r\n    ObjectFormat.getNode = function (data) {\r\n        var node, html;\r\n        if (!data.hasOwnProperty('tag'))\r\n            data['tag'] = 'div';\r\n        node = TBuilder_1.TBuilder.getNode(data['tag']);\r\n        delete data['tag'];\r\n        if (data.hasOwnProperty(\"class\")) {\r\n            node.addClass(data['class']);\r\n            delete data[\"class\"];\r\n        }\r\n        if (data.hasOwnProperty(\"style\")) {\r\n            node.addStyle(data['style']);\r\n            delete data[\"style\"];\r\n        }\r\n        if (data.hasOwnProperty(\"html\")) {\r\n            html = data['html'];\r\n            if (typeof (html) === 'string') {\r\n                node.addChild(data['html']);\r\n            }\r\n            else if (html instanceof Array) {\r\n                // todo: cross-mode with Extended format\r\n                for (var _i = 0, html_1 = html; _i < html_1.length; _i++) {\r\n                    var child = html_1[_i];\r\n                    // todo: cross-mode with Extended format\r\n                    node.addChild(ObjectFormat.getNode(child));\r\n                }\r\n            }\r\n            delete data[\"html\"];\r\n        }\r\n        else {\r\n            node.addChild(\"\");\r\n        }\r\n        for (var property in data) {\r\n            if (data.hasOwnProperty(property)) {\r\n                if (property.substring(0, 2) === 'on') {\r\n                    if (data[property] instanceof Function)\r\n                        node.addEvent(property.substr(2), data[property]);\r\n                }\r\n                else {\r\n                    node.addProperty(property, data[property]);\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return ObjectFormat;\r\n}());\r\nexports.ObjectFormat = ObjectFormat;\r\n//# sourceMappingURL=ObjectFormat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZm9ybWF0L09iamVjdEZvcm1hdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9mb3JtYXQvT2JqZWN0Rm9ybWF0LmpzPzFlZjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFRCdWlsZGVyXzEgPSByZXF1aXJlKFwiLi4vVEJ1aWxkZXJcIik7XHJcbnZhciBPYmplY3RGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBPYmplY3RGb3JtYXQoKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3RGb3JtYXQuZ2V0Tm9kZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIG5vZGUsIGh0bWw7XHJcbiAgICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KCd0YWcnKSlcclxuICAgICAgICAgICAgZGF0YVsndGFnJ10gPSAnZGl2JztcclxuICAgICAgICBub2RlID0gVEJ1aWxkZXJfMS5UQnVpbGRlci5nZXROb2RlKGRhdGFbJ3RhZyddKTtcclxuICAgICAgICBkZWxldGUgZGF0YVsndGFnJ107XHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJjbGFzc1wiKSkge1xyXG4gICAgICAgICAgICBub2RlLmFkZENsYXNzKGRhdGFbJ2NsYXNzJ10pO1xyXG4gICAgICAgICAgICBkZWxldGUgZGF0YVtcImNsYXNzXCJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInN0eWxlXCIpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuYWRkU3R5bGUoZGF0YVsnc3R5bGUnXSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW1wic3R5bGVcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiaHRtbFwiKSkge1xyXG4gICAgICAgICAgICBodG1sID0gZGF0YVsnaHRtbCddO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIChodG1sKSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ2hpbGQoZGF0YVsnaHRtbCddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChodG1sIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRvZG86IGNyb3NzLW1vZGUgd2l0aCBFeHRlbmRlZCBmb3JtYXRcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgaHRtbF8xID0gaHRtbDsgX2kgPCBodG1sXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gaHRtbF8xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvOiBjcm9zcy1tb2RlIHdpdGggRXh0ZW5kZWQgZm9ybWF0XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hZGRDaGlsZChPYmplY3RGb3JtYXQuZ2V0Tm9kZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW1wiaHRtbFwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vZGUuYWRkQ2hpbGQoXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuc3Vic3RyaW5nKDAsIDIpID09PSAnb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbcHJvcGVydHldIGluc3RhbmNlb2YgRnVuY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnQocHJvcGVydHkuc3Vic3RyKDIpLCBkYXRhW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmFkZFByb3BlcnR5KHByb3BlcnR5LCBkYXRhW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9iamVjdEZvcm1hdDtcclxufSgpKTtcclxuZXhwb3J0cy5PYmplY3RGb3JtYXQgPSBPYmplY3RGb3JtYXQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdEZvcm1hdC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/format/ObjectFormat.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TBuilder_1 = __webpack_require__(/*! ./TBuilder */ \"./src/TBuilder.js\");\r\nvar HT = /** @class */ (function () {\r\n    function HT() {\r\n    }\r\n    HT.getNode = function (data1, data2, data3) {\r\n        return TBuilder_1.TBuilder.getNodeFrom(data1, data2, data3);\r\n    };\r\n    HT.build = function (node, anchor, callback) {\r\n        if (anchor === void 0) { anchor = 'body'; }\r\n        if (callback === void 0) { callback = null; }\r\n        TBuilder_1.TBuilder.build(node, anchor);\r\n        TBuilder_1.TBuilder.callback = callback;\r\n    };\r\n    return HT;\r\n}());\r\nexports.HT = HT;\r\nvar HTest = /** @class */ (function (_super) {\r\n    __extends(HTest, _super);\r\n    function HTest() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    HTest.getNodeHtml = function (node) {\r\n        return node.getNodeHtml();\r\n    };\r\n    HTest.resetUid = function () {\r\n        TBuilder_1.TBuilder.resetUid();\r\n    };\r\n    return HTest;\r\n}(HT));\r\nexports.HTest = HTest;\r\nwindow.HyperTit = HT;\r\nwindow.HyperTitTest = HTest;\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFRCdWlsZGVyXzEgPSByZXF1aXJlKFwiLi9UQnVpbGRlclwiKTtcclxudmFyIEhUID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSFQoKSB7XHJcbiAgICB9XHJcbiAgICBIVC5nZXROb2RlID0gZnVuY3Rpb24gKGRhdGExLCBkYXRhMiwgZGF0YTMpIHtcclxuICAgICAgICByZXR1cm4gVEJ1aWxkZXJfMS5UQnVpbGRlci5nZXROb2RlRnJvbShkYXRhMSwgZGF0YTIsIGRhdGEzKTtcclxuICAgIH07XHJcbiAgICBIVC5idWlsZCA9IGZ1bmN0aW9uIChub2RlLCBhbmNob3IsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKGFuY2hvciA9PT0gdm9pZCAwKSB7IGFuY2hvciA9ICdib2R5JzsgfVxyXG4gICAgICAgIGlmIChjYWxsYmFjayA9PT0gdm9pZCAwKSB7IGNhbGxiYWNrID0gbnVsbDsgfVxyXG4gICAgICAgIFRCdWlsZGVyXzEuVEJ1aWxkZXIuYnVpbGQobm9kZSwgYW5jaG9yKTtcclxuICAgICAgICBUQnVpbGRlcl8xLlRCdWlsZGVyLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhUO1xyXG59KCkpO1xyXG5leHBvcnRzLkhUID0gSFQ7XHJcbnZhciBIVGVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIVGVzdCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEhUZXN0KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEhUZXN0LmdldE5vZGVIdG1sID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5nZXROb2RlSHRtbCgpO1xyXG4gICAgfTtcclxuICAgIEhUZXN0LnJlc2V0VWlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFRCdWlsZGVyXzEuVEJ1aWxkZXIucmVzZXRVaWQoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSFRlc3Q7XHJcbn0oSFQpKTtcclxuZXhwb3J0cy5IVGVzdCA9IEhUZXN0O1xyXG53aW5kb3cuSHlwZXJUaXQgPSBIVDtcclxud2luZG93Lkh5cGVyVGl0VGVzdCA9IEhUZXN0O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ });